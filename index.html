<!DOCTYPE html>
<html lang="en">

<head>
    <title>FIT3179: Data Visualisation 2</title>

    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

    <!-- Import pure.css -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="css/style.css" media="all">

    <!-- Importing Bold and Light Roboto Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;1,300;1,400&family=Roboto:wght@300;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="visualisation">
        <!-- Title -->
        <div class="pure-g" id="banner">
            <div class="pure-u-1">
                <h1 class="title">The United States Prison Industrial Complex</h1>
            </div>
        </div>

        <!-- First Row of Viz -->
        <div class="pure-g">
            <div class="pure-u-2-3 central">
                <div id="vis1-2" class="vis-container" style="width: 95%;"></div>
            </div>

            <div class="pure-u-1-3 central">
                <div class="text_div" id="text_div1">
                    <h1 style="text-align: center;">Prison Population Rates</h1>

                    <p>Despite being a relatively safe and crime-free country, the United States of America
                        has the highest prison population rate in the world! This is largely due to the existence of private
                        prison systems that prioritise profit over rehabilitation.
                    </p>

                    <p>
                        Click on the <span class="btext">USA Map</span> and <span class="btext">World Map</span> buttons to switch
                        between the maps. <span class="btext">Hover</span> over different states and countries to compare prison
                        population rates and sizes. The countries in grey have no data.
                    </p>

                    <div style="padding-bottom: 10px;">
                        <input type="radio" id="USA" name="map" checked onclick="showMap();">
                        <label for="USA"><span class="btext">USA Map</span></label>
                    </div>

                    <div>
                        <input type="radio" id="World" name="map" onclick="showMap();">
                        <label for="World"><span class="btext">World Map</span></label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second Row of Viz -->
        <div class="pure-g">
            <div class="pure-u-1-3 central">
                <div class="text_div" id="text_div2">
                    <h1 style="text-align: center;">Crimes in the USA</h1>

                    <p>
                        The charts on the right show how the prison rate has changed over time for 
                        <span class="btext" style="color: #66c2a5;">California</span>, 
                        <span class="btext" style="color: #fc8d62;">Florida</span>,
                        <span class="btext" style="color: #8da0cb;">New York</span>, and
                        <span class="btext" style="color: #e78ac3;">Texas</span>, which are the states with 
                        the highest populations. The charts also show the break up of reported crime types of those states.
                        select the drop down menu and select a state to filter the charts by it.
                    </p>

                    <p>
                        The highest prison rate ever recorded worldwide occurred federally for the United States in 2008.
                        Recent trends show that the rate of incarceration has been dropping over the past decade, which is 
                        great news but we still have a long way to go!
                    </p>

                    <p>
                        Burglaries are the most common crime in all the top four states except for New York, where assaults
                        are more common.
                    </p>

                    <img src="css/back_unblurred.jpg" style="height: 206px; margin-top: 12px;">
                </div>
            </div>

            <div class="pure-u-2-3 central">
                <div id="vis3" class="vis-container" style="width: 100%;"></div>
            </div>
        </div>

        <!-- Third Row of Viz -->
        <div class="pure-g">
            <div class="pure-u-2-3 central">
                <div id="vis4" class="vis-container" style="width: 100%;"></div>
            </div>

            <div class="pure-u-1-3 central">
                <div class="text_div" id="text_div2">
                    <h1 style="text-align: center;">Demographics</h1>
                    <p>
                        A consequence of the privatisation of the prison industry is that it perpetuates
                        the class and racial divide that already exists in America. Not only is it much more
                        difficult to get back on your feet after serving time in prison, but the system also
                        targets already disenfranchised populations such as people of colour.
                    </p>

                    <p>
                        As the chart shows, <span class="btext">1 in 20</span> white men will face prison time over the course of their life, 
                        while <span class="btext">6 in 20</span>  black men will face prison time at some point in their life. 
                        That means a black man is <span class="btext">6 times</span> more likely to end up in prison than a white man! 
                        Hispanic males are also <span class="btext">3 times</span> more likely to end up in prison over course of their life.
                    </p>
                </div>
            </div>
        </div>

        <!-- Fourth Row of Viz -->
        <div class="pure-g">
            <div class="pure-u-1-3 central">
                <div class="text_div" id="text_div2">
                    <h1 style="text-align: center;">Government Spending</h1>
                    <p>
                        Government spending on public <span class="btext" style="color: #fa1b35;">corrections</span> systems have been relatively low compared to other
                        investments. This has resulted in neglect of the prisoners has turned prisons into unjust and
                        cruel punishments rather than rehabilitation centers.
                    </p>

                    <p>
                        Additionally, private prisons enlist their prisoners to perform slave labour for companies, violating
                        their human rights. Companies that use prison slave labour include Microsoft, McDonald's, Nike, and Intel.
                    </p>

                    <p>
                        Use the <span class="btext">brush slider</span> on the bottom to filter the top chart and view it in more detail.
                    </p>

                    <p style="font-size: 12px;">*Welfare data not available before 1995</p>
                </div>
            </div>

            <div class="pure-u-2-3 central">
                <div id="vis5" class="vis-container" style="width: 100%;"></div>
            </div>
        </div>

        <!-- Fifth Row of Viz -->
        <div class="pure-g">
            <div class="pure-u-1-3 central">
                <div id="vis6" class="vis-container" style="width: 100%; padding-top: 5px;"></div>
            </div>

            <div class="pure-u-2-3 central">
                <div class="text_div" id="text_div2">
                    <h1 style="text-align: center;">Budget Allocation</h1>
                    <p>
                        Even the tiny amount of money that the public prison system is allocated is not spent optimally.
                        The majority of money is spent in <span class="btext" style="color: #1b9e77;">policing</span>, causing an over-policing problem. 
                        There is also money allocated to subsidising <span class="btext" style="color: #66a61e;">private prisons</span>! 
                        A significant chunk also goes towards <span class="btext" style="color: #d95f02;">judicial fees</span>,
                        <span class="btext" style="color: #e6ab02;">public employee salaries</span>, and
                        <span class="btext" style="color: #7570b3;">other costs</span>.
                        Meanwhile, only a small amount of money is spent on <span class="btext" style="color: #e7298a;">healthcare</span>
                        for prisoners.
                    </p>

                    <p>
                        Overall, private prison systems have had a bad effect on America's criminal justice system, with profits
                        being incentivised over the welfare of prisoners. Due to this, the United States is in a unique situation
                        that will take many reforms to recover from.
                    </p>
                </div>
            </div>


        </div>
    </div>
    
    <script type="text/javascript">
        const usaBtn = document.getElementById("USA");
        const worldBtn = document.getElementById("World");
        var specVis1 = "usamap.json";
        var specVis2 = "worldmap.json";
        var specVis3 = "different_crimes.json"
        var specVis4 = "demographics.json"
        var specVis5 = "prison_spending.json"
        var specVis6 = "budget_allocation.json"
        vegaEmbed('#vis1-2', specVis1, {actions: false})
        vegaEmbed("#vis3", specVis3, {actions: false})
        vegaEmbed("#vis4", specVis4, {actions: false})
        vegaEmbed("#vis5", specVis5, {actions: false})
        vegaEmbed("#vis6", specVis6, {actions: false})

        function showMap() {
            if(usaBtn.checked) {
                vegaEmbed('#vis1-2', specVis1, {actions: false})
            } else if(worldBtn.checked) {
                vegaEmbed('#vis1-2', specVis2, {actions: false})
            }
        }

    </script>
</body>
</html>